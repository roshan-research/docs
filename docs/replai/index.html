
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the ریپلای API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sa {
  color: #aa759f;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-1086c5ef.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-9801298e.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b49a9d77.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;plaintext&quot;,&quot;python&quot;]">
  <div style="position:fixed;z-index:50;height:4px;width:100%;background-color:#FF6200;">
  </div>
    <div class="toc-wrapper">
      <div>
        <a href="#" id="nav-button">
          <span>
            <img src="images/navbar-cad8cdcb.png" alt="" />
            <span>منو</span> 
          </span>
        </a>
        <div>
          <img src="images/logo-52f97f28.svg" class="logo" alt="" />
            <div class="search">
              <input type="text" class="search" id="input-search" placeholder="جست و جو">
            </div>
            <ul class="search-results"></ul>
          <ul id="toc" class="toc-list-h1">
              <li>
                <a href="#e9f67fe1e5" class="toc-h1 toc-link" data-title="ریپلای">ریپلای</a>
              </li>
              <li>
                <a href="#06c7b60187" class="toc-h1 toc-link" data-title="ورود">ورود</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#5eab02c7dd" class="toc-h2 toc-link" data-title="دریافت توکن">دریافت توکن</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#b914923146" class="toc-h1 toc-link" data-title="فضاهای کاری">فضاهای کاری</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#a898ec7953" class="toc-h2 toc-link" data-title="لیست فضاهای کاری">لیست فضاهای کاری</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#96d7c4319b" class="toc-h1 toc-link" data-title="چت‌های یک فضای کاری">چت‌های یک فضای کاری</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#c8ef678785" class="toc-h2 toc-link" data-title="لیست همه چت‌ها">لیست همه چت‌ها</a>
                      </li>
                      <li>
                        <a href="#fc5ab48d03" class="toc-h2 toc-link" data-title="ساخت یک چت جدید">ساخت یک چت جدید</a>
                      </li>
                      <li>
                        <a href="#6215a9f7a8" class="toc-h2 toc-link" data-title="حذف همه چت‌ها">حذف همه چت‌ها</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#99c10a7967" class="toc-h1 toc-link" data-title="پیام‌های یک چت">پیام‌های یک چت</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#eebf8a9554" class="toc-h2 toc-link" data-title="لیست همه پیام‌ها">لیست همه پیام‌ها</a>
                      </li>
                      <li>
                        <a href="#1e67197a93" class="toc-h2 toc-link" data-title="ساخت یک پیام جدید">ساخت یک پیام جدید</a>
                      </li>
                  </ul>
              </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='e9f67fe1e5'>ریپلای</h1>
<p>ریپلای یک دستیار گفتگوی هوشمند است که به‌عنوان پشتیبان آنلاین، پیام‌های کاربران را دریافت و با تحلیل دقیق آن‌ها، پاسخ‌های مناسب ارائه می‌دهد. در نسخه دمو، می‌توانید محیط تست اختصاصی خود را ایجاد کنید، آن را به دلخواه شخصی‌سازی کنید و از طریق رابط کاربری گرافیکی یا API عملکرد آن را ارزیابی نمایید. دسترسی به این قابلیت‌ها مستلزم دریافت نام کاربری، گذرواژه یا کلید اتصال از تیم فروش روشن است.</p>
<h1 id='06c7b60187'>ورود</h1>
<p>ابتدا نام کاربری و رمز عبوری که در اختیار شما قرار گرفته را در قالب یک درخواست post ارسال کنید تا بتوانید توکن اتصال دریافت کنید. این توکن در تمام درخواست‌های شما بایستی در هیدر آن  درخواست وجود داشته باشد.</p>
<h2 id='5eab02c7dd'>دریافت توکن</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>{
    "username": "*******",
    "password": "*******"
}
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> POST <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'{
    "username": "*******",
    "password": "*******"
}'</span> <span class="se">\</span>
      https://chat.replai.ir/api/token-auth
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"username"</span><span class="p">:</span> <span class="s">"*******"</span><span class="p">,</span>
    <span class="s">"password"</span><span class="p">:</span> <span class="s">"*******"</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>

<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/token-auth'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***********************************"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="err">'*********************'</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="err">'**********************'</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<dl style="background-color:transparent;"><code>POST /token-auth</code></dl>
<h1 id='b914923146'>فضاهای کاری</h1>
<p>فضای کاری یک محیط ایزوله برای گفتگو با چت‌بات در یک موضوع مشخص است. هر فضای کاری می‌تواند به روش متفاوتی پیاده‌سازی شده باشد، می‌تواند داده‌های متفاوتی داشته باشد، عنوان، تصویر و نمونه پیام‌های متفاوتی داشته باشد.</p>
<h2 id='a898ec7953'>لیست فضاهای کاری</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> GET <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token ***********************************"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://chat.replai.ir/api/workspaces
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token ***********************************'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/workspaces'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pouyanbroker2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"samples"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"سیب اپ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"samples"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"بیمه سامان"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"samples"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"خرید بیمه تکمیلی بدون بیمه پایه امکان پذیر است؟"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"آيا دستگاه تست قند خون،سوزن و نوار آن پرداخت ميشود؟"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"آيا هزينه هاي مربوط به آزمايشات و سونوگرافي هاي دوران بارداري در بيمه نامه درمان انفرادي پرداخت مي شود؟"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"آیا آستیگمات،دوربینی،نزدیک بینی یا جمع قدر مطلق نقص بینایی هر چشم تحت پوشش است؟"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<dl style="background-color:transparent;"><code>GET /workspaces</code></dl>
<h1 id='96d7c4319b'>چت‌های یک فضای کاری</h1>
<p style="font-size: 20px;font-family:IRANYekan;">پارامترهای ورودی</p>

<table style="float:right;text-align:center;font-family:IRANYekan;">
    <tr>
        <th>
            توضیحات
        </th>
        <th>
            کلید
        </th>
    </tr>
<tr>
<td>
شناسه فضای کاری
</td>
<td style="font-weight: bold">
workspace_id
</td>
</tr></table>

<p>هر چت یک جلسه گفتگو بین کاربر و چت‌بات است. یک فضای کاری می‌تواند چندین جلسه چت داشته باشد. چت‌های هر روز در تاریخ همان روز دسته‌بندی می‌شوند.</p>
<h2 id='c8ef678785'>لیست همه چت‌ها</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> GET <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token ***********************************"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://chat.replai.ir/api/workspaces/<span class="o">{</span>workspace_id<span class="o">}</span>/chats
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token ***********************************'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/workspaces/{workspace_id}/chats'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-14"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3650</span><span class="p">,</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"چه کاری انجام میدهی"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3649</span><span class="p">,</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"سلام"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chats"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3524</span><span class="p">,</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"کدام بانک ها ارز اربعین می‌دهند؟"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<dl style="background-color:transparent;"><code>GET /workspaces/{workspace_id}/chats</code></dl>
<h2 id='fc5ab48d03'>ساخت یک چت جدید</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> POST <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token ***********************************"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://chat.replai.ir/api/workspaces/<span class="o">{</span>workspace_id<span class="o">}</span>/chats
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token ***********************************'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/workspaces/{workspace_id}/chats'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"chat_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4153</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">" با مراجعه به شعب منتخب 7 بانک ملی، تجارت، صادرات، ملت، پست بانک، پارسیان و سپه، می‌توانید ارز اربعین را دریافت کنید."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">29292</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suggestions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ارز اربعین چقدر است و از کدام بانک‌ها می‌توان تهیه کرد؟"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"چقدر ارز اربعین می‌دهند؟"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<dl style="background-color:transparent;"><code>POST /workspaces/{workspace_id}/chats</code></dl>
<h2 id='6215a9f7a8'>حذف همه چت‌ها</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> DELETE <span class="se">\ </span>
      <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://chat.replai.ir/api/workspaces/<span class="o">{</span>workspace_id<span class="o">}</span>/chats
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>

<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/workspaces/{workspace_id}/chats'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>

<dl style="background-color:transparent;"><code>DELETE /workspaces/{workspace_id}/chats</code></dl>
<h1 id='99c10a7967'>پیام‌های یک چت</h1>
<p style="font-size: 20px;font-family:IRANYekan;">پارامترهای ورودی</p>

<table style="float:right;text-align:center;font-family:IRANYekan;">
    <tr>
        <th>
            توضیحات
        </th>
        <th>
            کلید
        </th>
    </tr>
<tr>
<td>
شناسه چت
</td>
<td style="font-weight: bold">
chat_id
</td>
</tr></table>

<p>هر چت می‌تواند شامل چندین پیام باشد که بین کاربر و چت‌بات مبادله می‌شود. هر یک از این پیام‌ها شناسه و جزئیات خاص خود را دارد.</p>
<h2 id='eebf8a9554'>لیست همه پیام‌ها</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> GET <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token ***********************************"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://chat.replai.ir/api/chats/<span class="o">{</span>chat_id<span class="o">}</span>/messages
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token ***********************************'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/chats/{chat_id}/messages'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27073</span><span class="p">,</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"لینک خرید ارز اربعین در روبیکا چیست؟"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"message_answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"برای خرید ارز اربعین از طریق اپلیکیشن روبیکا، می‌توانید به لینک زیر مراجعه کنید:</span><span class="se">\n\n</span><span class="s2">https://go.rubika.ir/arbaeen1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"like"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-07T07:48:53.094209Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27072</span><span class="p">,</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"کدام بانک ها ارز اربعین می‌دهند؟"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"message_answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">" با مراجعه به شعب منتخب 7 بانک ملی، تجارت، صادرات، ملت، پست بانک، پارسیان و سپه، می‌توانید ارز اربعین را دریافت کنید."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"like"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-09-07T07:48:47.646516Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<dl style="background-color:transparent;"><code>GET /chats/{chat_id}/messages</code></dl>
<h2 id='1e67197a93'>ساخت یک پیام جدید</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>"{\n    text: \"کدام بانک ها ارز اربعین می‌دهند؟\"\n}\n"
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> POST <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token ***********************************"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'"{\n    text: \"کدام بانک ها ارز اربعین می‌دهند؟\"\n}\n"'</span> <span class="se">\</span>
      https://chat.replai.ir/api/chats/<span class="o">{</span>chat_id<span class="o">}</span>/messages
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\n</span><span class="s">    text: </span><span class="se">\"</span><span class="s">کدام بانک ها ارز اربعین می‌دهند؟</span><span class="se">\"\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token ***********************************'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://chat.replai.ir/api/chats/{chat_id}/messages'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">29293</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">" با مراجعه به شعب منتخب 7 بانک ملی، تجارت، صادرات، ملت، پست بانک، پارسیان و سپه، می‌توانید ارز اربعین را دریافت کنید."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suggestions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ارز اربعین چقدر است و از کدام بانک‌ها می‌توان تهیه کرد؟"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"چقدر ارز اربعین می‌دهند؟"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<dl style="background-color:transparent;"><code>POST /chats/{chat_id}/messages</code></dl>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">CURL</a>
                <a href="#" data-language-name="plaintext">RAW</a>
                <a href="#" data-language-name="python">PYTHON</a>
          </div>
      </div>
    </div>
  </body>
</html>

<script>
function Scroll(delay) {
    this.initialY = scrollY;
    this.callbacks = {
        start  : null,
        scroll : null,
        end    : null,
    };
    this.timeout = {
        delay  : delay || 150,
        handle : null,
    };
    this.handler = Scroll.handler.bind(this);
    window.addEventListener("scroll", this.handler);
}

Scroll.handler = function (e) {
    if (this.initialY == 0) {
        if (this.timeout.handle == null) {
            if (this.callbacks.start) {
                this.callbacks.start.call(this, e);
            }
        }
        if (this.timeout.handle !== null) {
            clearTimeout(this.timeout.handle);
        }
        if (this.callbacks.scroll) {
            this.callbacks.scroll.call(this, e);
        }
        var self = this;
        this.timeout.handle = setTimeout(function () {
            self.timeout.handle = null;
            if (self.callbacks.end) {
                self.callbacks.end.call(self, e);
            }
        }, this.timeout.delay);
    } else {
        this.initialY = 0;
    }
};

Scroll.prototype.addEventListener = function (event, callback) {
    if (Object.keys(this.callbacks).includes(event)) {
        this.callbacks[event] = callback;
    } else {
        console.warn("Invalid scroll event: " + event);
    }
};

window.addEventListener('DOMContentLoaded',() => {
    let tocLinks = document.getElementsByClassName('toc-link');
    
    for(let i = 0; i < tocLinks.length; i++) {
        tocLinks[i].addEventListener('click', () => {
            for(let i = 0; i < tocLinks.length; i++) {
                tocLinks[i].classList.add('toc-unstyled')
            }
        })
    }
    
    var sl = new Scroll(400);
    
    sl.addEventListener("end", function () {
        for(let i = 0; i < tocLinks.length; i++) {
            tocLinks[i].classList.remove('toc-unstyled')
        }
    });
});
</script>